<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button icon="chevron-back-outline" defaultHref="/tabs/options"></ion-back-button>
    </ion-buttons>
    <ion-title>Inventory Report</ion-title>
    <ion-buttons slot="primary">
      <ion-button (click)="printPage()">
        <ion-icon name="print-outline" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <!-- <div class="spinner">
    <ion-spinner
      name="bubbles"
      color="primary"
      *ngIf="isFetching"
    ></ion-spinner>
  </div> -->

  <ion-card class="card-holder">
    <div class="card-top"></div>
    <ion-grid>
      <ion-row>
        <ion-col size-xs="12">
          <ion-item lines="none">
            <ion-icon class="contactIcon" name="business-outline" color="primary" slot="start"></ion-icon>
            <ion-label class="ion-text-wrap">
              <ion-card-title mode="md">{{ warehouse.warehouseName }}</ion-card-title>
            </ion-label>
            <ion-button #statusButton (click)="onWarehouseSearch()" fill="clear" size="small" mode="ios"
              id="click-trigger">
              <ion-icon name="search-outline"></ion-icon>
            </ion-button>
          </ion-item>
        </ion-col>
      </ion-row>

      <!-- <ion-row>
        <ion-col size-xs="12" size-sm="5" size-md="7"
          ><ion-card-subtitle class="ion-text-start"
            >ITEM DESCRIPTION</ion-card-subtitle
          ></ion-col
        >
        <ion-col size-xs="5" size-sm="3" size-md="2"
          ><ion-card-subtitle class="ion-text-end"
            >QUANTITY</ion-card-subtitle
          ></ion-col
        >
        <ion-col size-xs="3" size-sm="2" size-md="2"
          ><ion-card-subtitle class="ion-text-start"
            >UOM CODE</ion-card-subtitle
          ></ion-col
        >
        <ion-col size-xs="4" size-sm="2" size-md="1"
          ><ion-card-subtitle class="ion-text-end"
            >COST</ion-card-subtitle
          ></ion-col
        >
      </ion-row> -->
    </ion-grid>
  </ion-card>

  <!-- <ion-grid>
    <ion-row *ngFor="let itemCost of itemCosts">
      <ion-col>
        <ion-card-subtitle>{{ itemCost.item.itemName }}</ion-card-subtitle>
      </ion-col>
      <ion-col>
        <ion-card-subtitle>{{ itemCost.qty }}</ion-card-subtitle>
      </ion-col>
      <ion-col>
        <ion-card-subtitle>{{ itemCost.item.uom.uomCode }}</ion-card-subtitle>
      </ion-col>
      <ion-col>
        <ion-card-subtitle>{{ itemCost.cost }}</ion-card-subtitle>
      </ion-col>
    </ion-row>
  </ion-grid> -->
</ion-content>

<div id="printDiv" class="navbar">
  <button #printButton styleSheetFile="assets/css/inventories-print-preview.component.css" printSectionId="print"
    ngxPrint class="split">
    <img src="../../../assets/icons/printer.svg" />
  </button>
</div>

<div id="print">

  <div class="inventory-report">
    <div class="inventory-header">
      <div class="inventory-detail">
        <!-- <img src="../../../assets/icons/calendar.svg" /> -->
        {{ warehouse.warehouseName }} Inventory
      </div>
    </div>

    <table id="inventories">
      <thead>
        <tr>
          <th class="left-aligned">ITEM DESCRIPTION</th>
          <th class="right-aligned">QUANTITY</th>
          <th class="right-aligned">COST</th>
          <th class="right-aligned">TOTAL</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let itemCost of itemCosts">
          <td class="left-aligned">{{ itemCost.item.itemName}}</td>
          <td class="right-aligned">
            <div *ngIf="itemCost.qty>0">{{ itemCost.qty | number:'1.0-3' }} {{ itemCost.item.uom.uomCode }}</div>
          </td>
          <td class="right-aligned">
            <div *ngIf="itemCost.cost>0">{{ itemCost.cost | number:'1.0-3' }}</div>
          </td>
          <td class="right-aligned">
            <div *ngIf="itemCost.qty>0">{{ itemCost.qty * itemCost.cost | number:'1.0-3' }}</div>
          </td>
        </tr>
      </tbody>
    </table>

    <div class="grand-total">
      <p>Grand Total: </p>
      <p class="total-cost">{{ 100 | number:'1.2-2' }}</p>
    </div>
  </div>

</div>
